{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{138:function(e,t){},140:function(e,t){},150:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){\"use strict\";a.r(t);var n=a(0),c=a.n(n),i=a(9),r=a.n(i),l=a(14),o=a(204),s=a(162),d=a(193),j=a(57),b=a(19),u=a(196),m=a(161),x=a(206),O=a(198),p=a(86),f=a(58),g=a.n(f),h=a(5),v=Object(n.createContext)(),C=Object(p.io)(\"https://microsoft-teams-video-call.herokuapp.com\"),w=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(b.a)(a,2),i=c[0],r=c[1],l=Object(n.useState)(!1),o=Object(b.a)(l,2),s=o[0],d=o[1],j=Object(n.useState)(),u=Object(b.a)(j,2),m=u[0],x=u[1],O=Object(n.useState)(\"\"),p=Object(b.a)(O,2),f=p[0],w=p[1],y=Object(n.useState)({}),N=Object(b.a)(y,2),k=N[0],S=N[1],D=Object(n.useState)(\"\"),I=Object(b.a)(D,2),V=I[0],A=I[1],P=Object(n.useRef)(),R=Object(n.useRef)(),T=Object(n.useRef)();Object(n.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){x(e),P.current.srcObject=e})),C.on(\"me\",(function(e){return A(e)})),C.on(\"callUser\",(function(e){var t=e.from,a=e.name,n=e.signal;S({isReceivingCall:!0,from:t,name:a,signal:n})}))}),[]);var U=!0;var B=!0;return Object(h.jsx)(v.Provider,{value:{call:k,callAccepted:i,myVideo:P,userVideo:R,stream:m,name:f,setName:w,callEnded:s,me:V,callUser:function(e){var t=new g.a({initiator:!0,trickle:!1,stream:m});t.on(\"signal\",(function(t){C.emit(\"callUser\",{userToCall:e,signalData:t,from:V,name:f})})),t.on(\"stream\",(function(e){R.current.srcObject=e})),C.on(\"callAccepted\",(function(e){r(!0),t.signal(e)})),T.current=t},leaveCall:function(){d(!0),T.current.destroy(),window.close()},answerCall:function(){r(!0);var e=new g.a({initiator:!1,trickle:!1,stream:m});e.on(\"signal\",(function(e){C.emit(\"answerCall\",{signal:e,to:k.from})})),e.on(\"stream\",(function(e){R.current.srcObject=e})),e.signal(k.signal),T.current=e},toggleMic:function(){U=!U,P.current.srcObject.getAudioTracks()[0].enabled=U},toggleVideo:function(){B=!B,P.current.srcObject.getVideoTracks()[0].enabled=B}},children:t})},y=(a(150),Object(d.a)((function(e){return{video:Object(l.a)({width:\"400px\"},e.breakpoints.down(\"xs\"),{width:\"300px\"}),gridContainer:Object(l.a)({justifyContent:\"center\"},e.breakpoints.down(\"xs\"),{width:\"100%\"}),buttonGridContainer:Object(l.a)({width:\"400px\",flexDirection:\"row\"},e.breakpoints.down(\"xs\"),{width:\"100%\",flexDirection:\"column\"}),margin:{marginTop:10},padding:{padding:10},paper:{padding:\"10px\",border:\"2px\",margin:\"10px\"}}}))),N=function(){var e=Object(n.useContext)(v),t=e.name,a=e.callAccepted,i=e.myVideo,r=e.userVideo,o=e.callEnded,d=e.stream,p=e.call,f=e.toggleMic,g=e.toggleVideo,C=y(),w=c.a.useState({mic:!0,video:!0}),N=Object(b.a)(w,2),k=N[0],S=N[1],D=function(e){S(Object(j.a)(Object(j.a)({},k),{},Object(l.a)({},e.target.name,e.target.checked)))};return Object(h.jsxs)(u.a,{container:!0,className:C.gridContainer,children:[d&&Object(h.jsx)(m.a,{className:C.paper,children:Object(h.jsxs)(u.a,{item:!0,xs:12,md:6,children:[Object(h.jsx)(s.a,{variant:\"h5\",gutterBottom:!0,children:t||\"Name\"}),Object(h.jsx)(\"video\",{playsInline:!0,muted:!0,ref:i,autoPlay:!0,className:C.video}),Object(h.jsxs)(u.a,{container:!0,className:C.buttonGridContainer,children:[Object(h.jsx)(u.a,{item:!0,xs:12,md:6,className:C.padding,children:Object(h.jsx)(O.a,{control:Object(h.jsx)(x.a,{checked:k.mic,onChange:D,name:\"mic\",color:\"primary\"}),label:\"Mic\",onClick:function(){return f()},labelPlacement:\"start\"})}),Object(h.jsx)(u.a,{item:!0,xs:12,md:6,className:C.padding,children:Object(h.jsx)(O.a,{control:Object(h.jsx)(x.a,{checked:k.video,onChange:D,name:\"video\",color:\"primary\"}),label:\"Video\",onClick:function(){return g()},labelPlacement:\"start\"})})]})]})}),a&&!o&&Object(h.jsx)(m.a,{className:C.paper,children:Object(h.jsxs)(u.a,{item:!0,xs:12,md:6,children:[Object(h.jsx)(s.a,{variant:\"h5\",gutterBottom:!0,children:p.name||\"Name\"}),Object(h.jsx)(\"video\",{playsInline:!0,ref:r,autoPlay:!0,className:C.video})]})})]})},k=a(199),S=a(205),D=a(200),I=a(92),V=a(201),A=a(202),P=a(203),R=Object(d.a)((function(e){return{root:{display:\"flex\",flexDirection:\"column\"},gridContainer:Object(l.a)({width:\"100%\"},e.breakpoints.down(\"xs\"),{flexDirection:\"column\"}),container:Object(l.a)({width:\"600px\",margin:\"35px 0\",padding:0},e.breakpoints.down(\"xs\"),{width:\"80%\"}),margin:{marginTop:20},padding:{padding:20},paper:{padding:\"10px 20px\",border:\"2px\"}}})),T=function(e){var t=e.children,a=Object(n.useContext)(v),c=a.me,i=a.callAccepted,r=a.name,l=a.setName,o=a.callEnded,s=a.leaveCall,d=a.callUser,j=Object(n.useState)(\"\"),x=Object(b.a)(j,2),O=x[0],p=x[1],f=R();return Object(h.jsx)(k.a,{className:f.container,children:Object(h.jsxs)(m.a,{elevation:10,className:f.paper,children:[Object(h.jsx)(\"form\",{className:f.root,noValidate:!0,autoComplete:\"off\",children:Object(h.jsxs)(u.a,{container:!0,className:f.gridContainer,children:[Object(h.jsxs)(u.a,{item:!0,xs:12,md:6,className:f.padding,children:[Object(h.jsx)(S.a,{label:\"Name\",value:r,onChange:function(e){return l(e.target.value)},fullWidth:!0}),Object(h.jsx)(I.CopyToClipboard,{text:c,className:f.margin,children:Object(h.jsx)(D.a,{variant:\"contained\",color:\"primary\",fullWidth:!0,startIcon:Object(h.jsx)(V.a,{fontSize:\"large\"}),children:\"Copy Your ID\"})})]}),Object(h.jsxs)(u.a,{item:!0,xs:12,md:6,className:f.padding,children:[Object(h.jsx)(S.a,{label:\"ID to call\",value:O,onChange:function(e){return p(e.target.value)},fullWidth:!0}),i&&!o?Object(h.jsx)(D.a,{variant:\"contained\",color:\"secondary\",startIcon:Object(h.jsx)(A.a,{fontSize:\"large\"}),fullWidth:!0,onClick:s,className:f.margin,children:\"Hang Up\"}):Object(h.jsx)(D.a,{variant:\"contained\",color:\"primary\",startIcon:Object(h.jsx)(P.a,{fontSize:\"large\"}),fullWidth:!0,onClick:function(){return d(O)},className:f.margin,children:\"Call\"})]})]})}),t]})})},U=function(){var e=Object(n.useContext)(v),t=e.answerCall,a=e.call,c=e.callAccepted;return Object(h.jsx)(h.Fragment,{children:a.isReceivingCall&&!c&&Object(h.jsxs)(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\"},children:[Object(h.jsxs)(\"h1\",{children:[a.name,\" is calling:\"]}),Object(h.jsx)(D.a,{variant:\"contained\",color:\"primary\",onClick:t,children:\"Answer\"})]})})},B=Object(d.a)((function(e){return{appBar:Object(l.a)({borderRadius:15,margin:\"30px 100px\",display:\"flex\",flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\",width:\"600px\",border:\"2px\"},e.breakpoints.down(\"xs\"),{width:\"90%\"}),image:{marginLeft:\"15px\"},wrapper:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",width:\"100%\"}}})),E=function(){var e=B();return Object(h.jsxs)(\"div\",{className:e.wrapper,children:[Object(h.jsx)(o.a,{className:e.appBar,position:\"static\",color:\"inherit\",children:Object(h.jsx)(s.a,{variant:\"h3\",align:\"center\",color:\"textPrimary\",children:\"Video Chat\"})}),Object(h.jsx)(N,{}),Object(h.jsx)(T,{children:Object(h.jsx)(U,{})})]})};a(159);r.a.render(Object(h.jsx)(w,{children:Object(h.jsx)(E,{})}),document.getElementById(\"root\"))}},[[160,1,2]]]);","name":"static/js/main.66701f6c.chunk.js","map":{"version":3,"sources":["static/js/main.66701f6c.chunk.js"],"names":["this","push","138","module","exports","140","150","__webpack_require__","159","160","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","defineProperty","AppBar","Typography","makeStyles","objectSpread2","slicedToArray","Grid","Paper","Switch","FormControlLabel","build","simple_peer","simple_peer_default","jsx_runtime","SocketContext","Object","socket","Context_ContextProvider","_ref","children","_useState","_useState2","callAccepted","setCallAccepted","_useState3","_useState4","callEnded","setCallEnded","_useState5","_useState6","stream","setStream","_useState7","_useState8","name","setName","_useState9","_useState10","call","setCall","_useState11","_useState12","me","setMe","myVideo","userVideo","connectionRef","navigator","mediaDevices","getUserMedia","video","audio","then","currentStream","current","srcObject","on","id","_ref2","from","callerName","signal","isReceivingCall","isAudio","isVideo","Provider","value","callUser","peer","a","initiator","trickle","data","emit","userToCall","signalData","leaveCall","destroy","window","close","answerCall","to","toggleMic","getAudioTracks","enabled","toggleVideo","getVideoTracks","useStyles","theme","width","breakpoints","down","gridContainer","justifyContent","buttonGridContainer","flexDirection","margin","marginTop","padding","paper","border","components_VideoPlayer","_useContext","classes","_React$useState","useState","mic","_React$useState2","state","setState","handleChange","event","target","checked","container","className","item","xs","md","variant","gutterBottom","playsInline","muted","ref","autoPlay","control","onChange","color","label","onClick","labelPlacement","Container","TextField","Button","lib","Assignment","PhoneDisabled","Phone","Sidebar_useStyles","root","display","components_Sidebar","idToCall","setIdToCall","elevation","noValidate","autoComplete","e","fullWidth","text","startIcon","fontSize","components_Notifications","style","App_useStyles","appBar","borderRadius","alignItems","image","marginLeft","wrapper","src_App","position","align","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 138:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 140:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 150:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(9);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/AppBar/AppBar.js\nvar AppBar = __webpack_require__(204);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(162);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(193);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(57);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(196);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Paper/Paper.js\nvar Paper = __webpack_require__(161);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Switch/Switch.js + 2 modules\nvar Switch = __webpack_require__(206);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js\nvar FormControlLabel = __webpack_require__(198);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(86);\n\n// EXTERNAL MODULE: ./node_modules/simple-peer/index.js\nvar simple_peer = __webpack_require__(58);\nvar simple_peer_default = /*#__PURE__*/__webpack_require__.n(simple_peer);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/Context.js\nvar SocketContext=/*#__PURE__*/Object(react[\"createContext\"])();// const socket = io('http://localhost:5000');\nvar socket=Object(build[\"io\"])('https://microsoft-teams-video-call.herokuapp.com');var Context_ContextProvider=function ContextProvider(_ref){var children=_ref.children;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),callAccepted=_useState2[0],setCallAccepted=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),callEnded=_useState4[0],setCallEnded=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),stream=_useState6[0],setStream=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),name=_useState8[0],setName=_useState8[1];var _useState9=Object(react[\"useState\"])({}),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),call=_useState10[0],setCall=_useState10[1];var _useState11=Object(react[\"useState\"])(''),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),me=_useState12[0],setMe=_useState12[1];var myVideo=Object(react[\"useRef\"])();var userVideo=Object(react[\"useRef\"])();var connectionRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(function(currentStream){setStream(currentStream);myVideo.current.srcObject=currentStream;});socket.on('me',function(id){return setMe(id);});socket.on('callUser',function(_ref2){var from=_ref2.from,callerName=_ref2.name,signal=_ref2.signal;setCall({isReceivingCall:true,from:from,name:callerName,signal:signal});});},[]);var answerCall=function answerCall(){setCallAccepted(true);var peer=new simple_peer_default.a({initiator:false,trickle:false,stream:stream});peer.on('signal',function(data){socket.emit('answerCall',{signal:data,to:call.from});});peer.on('stream',function(currentStream){userVideo.current.srcObject=currentStream;});peer.signal(call.signal);connectionRef.current=peer;};var callUser=function callUser(id){var peer=new simple_peer_default.a({initiator:true,trickle:false,stream:stream});peer.on('signal',function(data){socket.emit('callUser',{userToCall:id,signalData:data,from:me,name:name});});peer.on('stream',function(currentStream){userVideo.current.srcObject=currentStream;});socket.on('callAccepted',function(signal){setCallAccepted(true);peer.signal(signal);});connectionRef.current=peer;};var leaveCall=function leaveCall(){setCallEnded(true);connectionRef.current.destroy();window.close();};var isAudio=true;function toggleMic(){isAudio=!isAudio;myVideo.current.srcObject.getAudioTracks()[0].enabled=isAudio;}var isVideo=true;function toggleVideo(){isVideo=!isVideo;myVideo.current.srcObject.getVideoTracks()[0].enabled=isVideo;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketContext.Provider,{value:{call:call,callAccepted:callAccepted,myVideo:myVideo,userVideo:userVideo,stream:stream,name:name,setName:setName,callEnded:callEnded,me:me,callUser:callUser,leaveCall:leaveCall,answerCall:answerCall,toggleMic:toggleMic,toggleVideo:toggleVideo},children:children});};\n// EXTERNAL MODULE: ./src/video_styles.css\nvar video_styles = __webpack_require__(150);\n\n// CONCATENATED MODULE: ./src/components/VideoPlayer.jsx\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{video:Object(defineProperty[\"a\" /* default */])({width:'400px'},theme.breakpoints.down('xs'),{width:'300px'}),gridContainer:Object(defineProperty[\"a\" /* default */])({justifyContent:'center'},theme.breakpoints.down('xs'),{width:'100%'}),buttonGridContainer:Object(defineProperty[\"a\" /* default */])({width:'400px',flexDirection:'row'},theme.breakpoints.down('xs'),{width:'100%',flexDirection:'column'}),margin:{marginTop:10},padding:{padding:10},paper:{padding:'10px',border:'2px',margin:'10px'}};});var VideoPlayer_VideoPlayer=function VideoPlayer(){var _useContext=Object(react[\"useContext\"])(SocketContext),name=_useContext.name,callAccepted=_useContext.callAccepted,myVideo=_useContext.myVideo,userVideo=_useContext.userVideo,callEnded=_useContext.callEnded,stream=_useContext.stream,call=_useContext.call,toggleMic=_useContext.toggleMic,toggleVideo=_useContext.toggleVideo;var classes=useStyles();var _React$useState=react_default.a.useState({mic:true,video:true}),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1];var handleChange=function handleChange(event){setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},Object(defineProperty[\"a\" /* default */])({},event.target.name,event.target.checked)));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.gridContainer,children:[stream&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",gutterBottom:true,children:name||'Name'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{playsInline:true,muted:true,ref:myVideo,autoPlay:true,className:classes.video}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.buttonGridContainer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Switch[\"a\" /* default */],{checked:state.mic,onChange:handleChange,name:\"mic\",color:\"primary\"}),label:\"Mic\",onClick:function onClick(){return toggleMic();},labelPlacement:\"start\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Switch[\"a\" /* default */],{checked:state.video,onChange:handleChange,name:\"video\",color:\"primary\"}),label:\"Video\",onClick:function onClick(){return toggleVideo();},labelPlacement:\"start\"})})]})]})}),callAccepted&&!callEnded&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",gutterBottom:true,children:call.name||'Name'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{playsInline:true,ref:userVideo,autoPlay:true,className:classes.video})]})})]});};/* harmony default export */ var components_VideoPlayer = (VideoPlayer_VideoPlayer);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Container/Container.js\nvar Container = __webpack_require__(199);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 39 modules\nvar TextField = __webpack_require__(205);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(200);\n\n// EXTERNAL MODULE: ./node_modules/react-copy-to-clipboard/lib/index.js\nvar lib = __webpack_require__(92);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Assignment.js\nvar Assignment = __webpack_require__(201);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/PhoneDisabled.js\nvar PhoneDisabled = __webpack_require__(202);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Phone.js\nvar Phone = __webpack_require__(203);\n\n// CONCATENATED MODULE: ./src/components/Sidebar.jsx\nvar Sidebar_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{root:{display:'flex',flexDirection:'column'},gridContainer:Object(defineProperty[\"a\" /* default */])({width:'100%'},theme.breakpoints.down('xs'),{flexDirection:'column'}),container:Object(defineProperty[\"a\" /* default */])({width:'600px',margin:'35px 0',padding:0},theme.breakpoints.down('xs'),{width:'80%'}),margin:{marginTop:20},padding:{padding:20},paper:{padding:'10px 20px',border:'2px'}};});var Sidebar_Sidebar=function Sidebar(_ref){var children=_ref.children;var _useContext=Object(react[\"useContext\"])(SocketContext),me=_useContext.me,callAccepted=_useContext.callAccepted,name=_useContext.name,setName=_useContext.setName,callEnded=_useContext.callEnded,leaveCall=_useContext.leaveCall,callUser=_useContext.callUser;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),idToCall=_useState2[0],setIdToCall=_useState2[1];var classes=Sidebar_useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:classes.container,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Paper[\"a\" /* default */],{elevation:10,className:classes.paper,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{className:classes.root,noValidate:true,autoComplete:\"off\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.gridContainer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"Name\",value:name,onChange:function onChange(e){return setName(e.target.value);},fullWidth:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib[\"CopyToClipboard\"],{text:me,className:classes.margin,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",fullWidth:true,startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Assignment[\"a\" /* default */],{fontSize:\"large\"}),children:\"Copy Your ID\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"ID to call\",value:idToCall,onChange:function onChange(e){return setIdToCall(e.target.value);},fullWidth:true}),callAccepted&&!callEnded?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"secondary\",startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PhoneDisabled[\"a\" /* default */],{fontSize:\"large\"}),fullWidth:true,onClick:leaveCall,className:classes.margin,children:\"Hang Up\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Phone[\"a\" /* default */],{fontSize:\"large\"}),fullWidth:true,onClick:function onClick(){return callUser(idToCall);},className:classes.margin,children:\"Call\"})]})]})}),children]})});};/* harmony default export */ var components_Sidebar = (Sidebar_Sidebar);\n// CONCATENATED MODULE: ./src/components/Notifications.jsx\nvar Notifications_Notifications=function Notifications(){var _useContext=Object(react[\"useContext\"])(SocketContext),answerCall=_useContext.answerCall,call=_useContext.call,callAccepted=_useContext.callAccepted;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:call.isReceivingCall&&!callAccepted&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',justifyContent:'space-around'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[call.name,\" is calling:\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",onClick:answerCall,children:\"Answer\"})]})});};/* harmony default export */ var components_Notifications = (Notifications_Notifications);\n// CONCATENATED MODULE: ./src/App.js\nvar App_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{appBar:Object(defineProperty[\"a\" /* default */])({borderRadius:15,margin:'30px 100px',display:'flex',flexDirection:'row',justifyContent:'center',alignItems:'center',width:'600px',border:'2px'},theme.breakpoints.down('xs'),{width:'90%'}),image:{marginLeft:'15px'},wrapper:{display:'flex',flexDirection:'column',alignItems:'center',width:'100%'}};});var App_App=function App(){var classes=App_useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:classes.wrapper,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AppBar[\"a\" /* default */],{className:classes.appBar,position:\"static\",color:\"inherit\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h3\",align:\"center\",color:\"textPrimary\",children:\"Video Chat\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_VideoPlayer,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Sidebar,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Notifications,{})})]});};/* harmony default export */ var src_App = (App_App);\n// EXTERNAL MODULE: ./src/styles.css\nvar styles = __webpack_require__(159);\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Context_ContextProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[160,1,2]]]);","inputSourceMap":{"version":3,"sources":["ignored /Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/readable-stream/lib util","ignored /Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/readable-stream/lib/internal/streams util","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/postcss-loader/src/index.js??postcss!/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/video_styles.css","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/postcss-loader/src/index.js??postcss!/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/styles.css","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/Context.js","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/components/VideoPlayer.jsx","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/components/Sidebar.jsx","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/components/Notifications.jsx","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/App.js","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/index.js"],"names":["SocketContext","createContext","socket","io","ContextProvider","children","useState","callAccepted","setCallAccepted","callEnded","setCallEnded","stream","setStream","name","setName","call","setCall","me","setMe","myVideo","useRef","userVideo","connectionRef","useEffect","navigator","mediaDevices","getUserMedia","video","audio","then","currentStream","current","srcObject","on","id","from","callerName","signal","isReceivingCall","answerCall","peer","Peer","initiator","trickle","data","emit","to","callUser","userToCall","signalData","leaveCall","destroy","window","close","isAudio","toggleMic","getAudioTracks","enabled","isVideo","toggleVideo","getVideoTracks","useStyles","makeStyles","theme","width","breakpoints","down","gridContainer","justifyContent","buttonGridContainer","flexDirection","margin","marginTop","padding","paper","border","VideoPlayer","useContext","classes","React","mic","state","setState","handleChange","event","target","checked","root","display","container","Sidebar","idToCall","setIdToCall","e","value","Notifications","appBar","borderRadius","alignItems","image","marginLeft","wrapper","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { createContext, useState, useRef, useEffect } from 'react';\nimport { io } from 'socket.io-client';\nimport Peer from 'simple-peer';\n\nconst SocketContext = createContext();\n\n// const socket = io('http://localhost:5000');\nconst socket = io('https://microsoft-teams-video-call.herokuapp.com');\n\nconst ContextProvider = ({ children }) => {\n  const [callAccepted, setCallAccepted] = useState(false);\n  const [callEnded, setCallEnded] = useState(false);\n  const [stream, setStream] = useState();\n  const [name, setName] = useState('');\n  const [call, setCall] = useState({});\n  const [me, setMe] = useState('');\n\n  const myVideo = useRef();\n  const userVideo = useRef();\n  const connectionRef = useRef();\n\n  useEffect(() => {\n    navigator.mediaDevices.getUserMedia({ video: true, audio: true })\n      .then((currentStream) => {\n        setStream(currentStream);\n        myVideo.current.srcObject = currentStream;\n      });\n\n    socket.on('me', (id) => setMe(id));\n\n    socket.on('callUser', ({ from, name: callerName, signal }) => {\n      setCall({ isReceivingCall: true, from, name: callerName, signal });\n    });\n  }, []);\n\n  const answerCall = () => {\n    setCallAccepted(true);\n\n    const peer = new Peer({ initiator: false, trickle: false, stream });\n\n    peer.on('signal', (data) => {\n      socket.emit('answerCall', { signal: data, to: call.from });\n    });\n\n    peer.on('stream', (currentStream) => {\n      userVideo.current.srcObject = currentStream;\n    });\n\n    peer.signal(call.signal);\n\n    connectionRef.current = peer;\n  };\n\n  const callUser = (id) => {\n    const peer = new Peer({ initiator: true, trickle: false, stream });\n\n    peer.on('signal', (data) => {\n      socket.emit('callUser', { userToCall: id, signalData: data, from: me, name });\n    });\n\n    peer.on('stream', (currentStream) => {\n      userVideo.current.srcObject = currentStream;\n    });\n\n    socket.on('callAccepted', (signal) => {\n      setCallAccepted(true);\n\n      peer.signal(signal);\n    });\n\n    connectionRef.current = peer;\n  };\n\n  const leaveCall = () => {\n    setCallEnded(true);\n\n    connectionRef.current.destroy();\n\n    window.close();\n  };\n\n  let isAudio = true\n  function toggleMic() {\n      isAudio = !isAudio\n      myVideo.current.srcObject.getAudioTracks()[0].enabled = isAudio\n  }\n\n  let isVideo = true\n  function toggleVideo() {\n      isVideo = !isVideo\n      myVideo.current.srcObject.getVideoTracks()[0].enabled = isVideo\n  }\n  return (\n    <SocketContext.Provider value={{\n      call,\n      callAccepted,\n      myVideo,\n      userVideo,\n      stream,\n      name,\n      setName,\n      callEnded,\n      me,\n      callUser,\n      leaveCall,\n      answerCall,\n      toggleMic,\n      toggleVideo,\n    }}\n    >\n      {children}\n    </SocketContext.Provider>\n  );\n};\n\nexport { ContextProvider, SocketContext };\n","import React, { useContext, useState } from 'react';\nimport { Grid, Typography, Paper, makeStyles, Button } from '@material-ui/core';\nimport { Mic, Videocam } from '@material-ui/icons';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nimport { SocketContext } from '../Context';\nimport '../video_styles.css';\n\nconst useStyles = makeStyles((theme) => ({\n  video: {\n    width: '400px',\n    [theme.breakpoints.down('xs')]: {\n      width: '300px',\n    },\n  },\n  gridContainer: {\n    justifyContent: 'center',\n    [theme.breakpoints.down('xs')]: {\n      width: '100%',\n    },\n  },\n  buttonGridContainer: {\n    width: '400px',\n    flexDirection: 'row',\n    [theme.breakpoints.down('xs')]: {\n      width: '100%',\n      flexDirection: 'column',\n    },\n  },\n  margin: {\n    marginTop: 10,\n  },\n  padding: {\n    padding: 10,\n  },\n  paper: {\n    padding: '10px',\n    border: '2px',\n    margin: '10px',\n  },\n}));\n\nconst VideoPlayer = () => {\n  const { name, callAccepted, myVideo, userVideo, callEnded, stream, call, toggleMic, toggleVideo } = useContext(SocketContext);\n  const classes = useStyles();\n\n  const [state, setState] = React.useState({\n    mic: true,\n    video: true,\n  });\n\n  const handleChange = (event) => {\n    setState({ ...state, [event.target.name]: event.target.checked });\n  };\n\n  return (\n    <Grid container className={classes.gridContainer}>\n      {stream && (\n        <Paper className={classes.paper}>\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"h5\" gutterBottom>{name || 'Name'}</Typography>\n            <video playsInline muted ref={myVideo} autoPlay className={classes.video} />\n            <Grid container className={classes.buttonGridContainer}>\n              <Grid item xs={12} md={6} className={classes.padding}>\n                <FormControlLabel control={<Switch checked={state.mic} onChange={handleChange} name=\"mic\" color=\"primary\"/>} label=\"Mic\" onClick={() => toggleMic()} labelPlacement=\"start\" />\n              </Grid>\n              <Grid item xs={12} md={6} className={classes.padding}>\n                <FormControlLabel control={<Switch checked={state.video} onChange={handleChange} name=\"video\" color=\"primary\"/>} label=\"Video\" onClick={() => toggleVideo()} labelPlacement=\"start\" />\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n      )}\n      {callAccepted && !callEnded && (\n        <Paper className={classes.paper}>\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"h5\" gutterBottom>{call.name || 'Name'}</Typography>\n            <video playsInline ref={userVideo} autoPlay className={classes.video} />\n          </Grid>\n        </Paper>\n      )}\n    </Grid>\n  );\n};\n\nexport default VideoPlayer;\n","import React, { useState, useContext } from 'react';\nimport { Button, TextField, Grid, Container, Paper } from '@material-ui/core';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { Assignment, Phone, PhoneDisabled } from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SocketContext } from '../Context';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  gridContainer: {\n    width: '100%',\n    [theme.breakpoints.down('xs')]: {\n      flexDirection: 'column',\n    },\n  },\n  container: {\n    width: '600px',\n    margin: '35px 0',\n    padding: 0,\n    [theme.breakpoints.down('xs')]: {\n      width: '80%',\n    },\n  },\n  margin: {\n    marginTop: 20,\n  },\n  padding: {\n    padding: 20,\n  },\n  paper: {\n    padding: '10px 20px',\n    border: '2px',\n  },\n}));\n\nconst Sidebar = ({ children }) => {\n  const { me, callAccepted, name, setName, callEnded, leaveCall, callUser } = useContext(SocketContext);\n  const [idToCall, setIdToCall] = useState('');\n  const classes = useStyles();\n\n  return (\n    <Container className={classes.container}>\n      <Paper elevation={10} className={classes.paper}>\n        <form className={classes.root} noValidate autoComplete=\"off\">\n          <Grid container className={classes.gridContainer}>\n            <Grid item xs={12} md={6} className={classes.padding}>\n              <TextField label=\"Name\" value={name} onChange={(e) => setName(e.target.value)} fullWidth />\n              <CopyToClipboard text={me} className={classes.margin}>\n                <Button variant=\"contained\" color=\"primary\" fullWidth startIcon={<Assignment fontSize=\"large\" />}>\n                  Copy Your ID\n                </Button>\n              </CopyToClipboard>\n            </Grid>\n            <Grid item xs={12} md={6} className={classes.padding}>\n              <TextField label=\"ID to call\" value={idToCall} onChange={(e) => setIdToCall(e.target.value)} fullWidth />\n              {callAccepted && !callEnded ? (\n                <Button variant=\"contained\" color=\"secondary\" startIcon={<PhoneDisabled fontSize=\"large\" />} fullWidth onClick={leaveCall} className={classes.margin}>\n                  Hang Up\n                </Button>\n              ) : (\n                <Button variant=\"contained\" color=\"primary\" startIcon={<Phone fontSize=\"large\" />} fullWidth onClick={() => callUser(idToCall)} className={classes.margin}>\n                  Call\n                </Button>\n              )}\n            </Grid>\n          </Grid>\n        </form>\n        {children}\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Sidebar;\n","import React, { useContext } from 'react';\nimport { Button } from '@material-ui/core';\n\nimport { SocketContext } from '../Context';\n\nconst Notifications = () => {\n  const { answerCall, call, callAccepted } = useContext(SocketContext);\n\n  return (\n    <>\n      {call.isReceivingCall && !callAccepted && (\n        <div style={{ display: 'flex', justifyContent: 'space-around' }}>\n          <h1>{call.name} is calling:</h1>\n          <Button variant=\"contained\" color=\"primary\" onClick={answerCall}>\n            Answer\n          </Button>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Notifications;\n","import React from 'react';\nimport { Typography, AppBar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport VideoPlayer from './components/VideoPlayer';\nimport Sidebar from './components/Sidebar';\nimport Notifications from './components/Notifications';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    borderRadius: 15,\n    margin: '30px 100px',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '600px',\n    border: '2px',\n\n    [theme.breakpoints.down('xs')]: {\n      width: '90%',\n    },\n  },\n  image: {\n    marginLeft: '15px',\n  },\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    width: '100%',\n  },\n}));\n\nconst App = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.wrapper}>\n      <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\n        <Typography variant=\"h3\" align=\"center\" color=\"textPrimary\">Video Chat</Typography>\n      </AppBar>\n      <VideoPlayer />\n      <Sidebar>\n        <Notifications />\n      </Sidebar>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport { ContextProvider } from './Context';\n\nimport './styles.css';\n\nReactDOM.render(\n  <ContextProvider>\n    <App />\n  </ContextProvider>,\n  document.getElementById('root'),\n);\n"]}}