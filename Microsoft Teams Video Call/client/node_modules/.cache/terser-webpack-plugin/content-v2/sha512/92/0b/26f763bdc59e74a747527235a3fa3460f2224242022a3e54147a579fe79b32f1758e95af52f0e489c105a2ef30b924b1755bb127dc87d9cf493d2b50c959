{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,t){},134:function(e,t){},144:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){\"use strict\";a.r(t);var n=a(0),c=a(9),i=a.n(c),r=a(19),l=a(195),s=a(188),o=a(183),d=a(186),j=a(155),m=a(197),u=a(189),b=a(190),x=a(20),p=a(82),O=a(55),f=a.n(O),g=a(3),h=Object(n.createContext)(),v=Object(p.io)(\"https://microsoft-teams-video-call.herokuapp.com\"),C=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(x.a)(a,2),i=c[0],r=c[1],l=Object(n.useState)(!1),s=Object(x.a)(l,2),o=s[0],d=s[1],j=Object(n.useState)(),m=Object(x.a)(j,2),u=m[0],b=m[1],p=Object(n.useState)(\"\"),O=Object(x.a)(p,2),C=O[0],w=O[1],N=Object(n.useState)({}),y=Object(x.a)(N,2),k=y[0],I=y[1],S=Object(n.useState)(\"\"),V=Object(x.a)(S,2),D=V[0],W=V[1],z=Object(n.useRef)(),A=Object(n.useRef)(),R=Object(n.useRef)();Object(n.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){b(e),z.current.srcObject=e})),v.on(\"me\",(function(e){return W(e)})),v.on(\"callUser\",(function(e){var t=e.from,a=e.name,n=e.signal;I({isReceivingCall:!0,from:t,name:a,signal:n})}))}),[]);var T=!0;var U=!0;return Object(g.jsx)(h.Provider,{value:{call:k,callAccepted:i,myVideo:z,userVideo:A,stream:u,name:C,setName:w,callEnded:o,me:D,callUser:function(e){var t=new f.a({initiator:!0,trickle:!1,stream:u});t.on(\"signal\",(function(t){v.emit(\"callUser\",{userToCall:e,signalData:t,from:D,name:C})})),t.on(\"stream\",(function(e){A.current.srcObject=e})),v.on(\"callAccepted\",(function(e){r(!0),t.signal(e)})),R.current=t},leaveCall:function(){d(!0),R.current.destroy(),window.close()},answerCall:function(){r(!0);var e=new f.a({initiator:!1,trickle:!1,stream:u});e.on(\"signal\",(function(e){v.emit(\"answerCall\",{signal:e,to:k.from})})),e.on(\"stream\",(function(e){A.current.srcObject=e})),e.signal(k.signal),R.current=e},toggleMic:function(){T=!T,z.current.srcObject.getAudioTracks()[0].enabled=T},toggleVideo:function(){U=!U,z.current.srcObject.getVideoTracks()[0].enabled=U}},children:t})},w=(a(144),Object(o.a)((function(e){return{video:Object(r.a)({width:\"400px\"},e.breakpoints.down(\"xs\"),{width:\"300px\"}),gridContainer:Object(r.a)({justifyContent:\"center\"},e.breakpoints.down(\"xs\"),{width:\"100%\"}),buttonGridContainer:Object(r.a)({width:\"400px\",flexDirection:\"row\"},e.breakpoints.down(\"xs\"),{width:\"100%\",flexDirection:\"column\"}),margin:{marginTop:10},padding:{padding:10},paper:{padding:\"10px\",border:\"2px\",margin:\"10px\"}}}))),N=function(){var e=Object(n.useContext)(h),t=e.name,a=e.callAccepted,c=e.myVideo,i=e.userVideo,r=e.callEnded,l=e.stream,o=e.call,x=e.toggleMic,p=e.toggleVideo,O=w();return Object(g.jsxs)(d.a,{container:!0,className:O.gridContainer,children:[l&&Object(g.jsx)(j.a,{className:O.paper,children:Object(g.jsxs)(d.a,{item:!0,xs:12,md:6,children:[Object(g.jsx)(s.a,{variant:\"h5\",gutterBottom:!0,children:t||\"Name\"}),Object(g.jsx)(\"video\",{playsInline:!0,muted:!0,ref:c,autoPlay:!0,className:O.video}),Object(g.jsxs)(d.a,{container:!0,className:O.buttonGridContainer,children:[Object(g.jsx)(d.a,{item:!0,xs:12,md:6,className:O.padding,children:Object(g.jsx)(m.a,{variant:\"contained\",color:\"primary\",fullWidth:!0,startIcon:Object(g.jsx)(u.a,{fontSize:\"large\"}),onClick:function(){return x()},className:O.margin,children:\"Mic\"})}),Object(g.jsx)(d.a,{item:!0,xs:12,md:6,className:O.padding,children:Object(g.jsx)(m.a,{variant:\"contained\",color:\"primary\",fullWidth:!0,startIcon:Object(g.jsx)(b.a,{fontSize:\"large\"}),onClick:function(){return p()},className:O.margin,children:\"Video\"})})]})]})}),a&&!r&&Object(g.jsx)(j.a,{className:O.paper,children:Object(g.jsxs)(d.a,{item:!0,xs:12,md:6,children:[Object(g.jsx)(s.a,{variant:\"h5\",gutterBottom:!0,children:o.name||\"Name\"}),Object(g.jsx)(\"video\",{playsInline:!0,ref:i,autoPlay:!0,className:O.video}),Object(g.jsxs)(d.a,{container:!0,className:O.buttonGridContainer,children:[Object(g.jsx)(d.a,{item:!0,xs:12,md:6,className:O.padding,children:Object(g.jsx)(m.a,{variant:\"contained\",color:\"primary\",startIcon:Object(g.jsx)(u.a,{fontSize:\"large\"}),fullWidth:!0,onClick:function(){return x()},className:O.margin,children:\"Mic\"})}),Object(g.jsx)(d.a,{item:!0,xs:12,md:6,className:O.padding,children:Object(g.jsx)(m.a,{variant:\"contained\",color:\"primary\",startIcon:Object(g.jsx)(b.a,{fontSize:\"large\"}),fullWidth:!0,onClick:function(){return p()},className:O.margin,children:\"Video\"})})]})]})})]})},y=a(191),k=a(196),I=a(88),S=a(192),V=a(193),D=a(194),W=Object(o.a)((function(e){return{root:{display:\"flex\",flexDirection:\"column\"},gridContainer:Object(r.a)({width:\"100%\"},e.breakpoints.down(\"xs\"),{flexDirection:\"column\"}),container:Object(r.a)({width:\"600px\",margin:\"35px 0\",padding:0},e.breakpoints.down(\"xs\"),{width:\"80%\"}),margin:{marginTop:20},padding:{padding:20},paper:{padding:\"10px 20px\",border:\"2px\"}}})),z=function(e){var t=e.children,a=Object(n.useContext)(h),c=a.me,i=a.callAccepted,r=a.name,l=a.setName,s=a.callEnded,o=a.leaveCall,u=a.callUser,b=Object(n.useState)(\"\"),p=Object(x.a)(b,2),O=p[0],f=p[1],v=W();return Object(g.jsx)(y.a,{className:v.container,children:Object(g.jsxs)(j.a,{elevation:10,className:v.paper,children:[Object(g.jsx)(\"form\",{className:v.root,noValidate:!0,autoComplete:\"off\",children:Object(g.jsxs)(d.a,{container:!0,className:v.gridContainer,children:[Object(g.jsxs)(d.a,{item:!0,xs:12,md:6,className:v.padding,children:[Object(g.jsx)(k.a,{label:\"Name\",value:r,onChange:function(e){return l(e.target.value)},fullWidth:!0}),Object(g.jsx)(I.CopyToClipboard,{text:c,className:v.margin,children:Object(g.jsx)(m.a,{variant:\"contained\",color:\"primary\",fullWidth:!0,startIcon:Object(g.jsx)(S.a,{fontSize:\"large\"}),children:\"Copy Your ID\"})})]}),Object(g.jsxs)(d.a,{item:!0,xs:12,md:6,className:v.padding,children:[Object(g.jsx)(k.a,{label:\"ID to call\",value:O,onChange:function(e){return f(e.target.value)},fullWidth:!0}),i&&!s?Object(g.jsx)(m.a,{variant:\"contained\",color:\"secondary\",startIcon:Object(g.jsx)(V.a,{fontSize:\"large\"}),fullWidth:!0,onClick:o,className:v.margin,children:\"Hang Up\"}):Object(g.jsx)(m.a,{variant:\"contained\",color:\"primary\",startIcon:Object(g.jsx)(D.a,{fontSize:\"large\"}),fullWidth:!0,onClick:function(){return u(O)},className:v.margin,children:\"Call\"})]})]})}),t]})})},A=function(){var e=Object(n.useContext)(h),t=e.answerCall,a=e.call,c=e.callAccepted;return Object(g.jsx)(g.Fragment,{children:a.isReceivingCall&&!c&&Object(g.jsxs)(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\"},children:[Object(g.jsxs)(\"h1\",{children:[a.name,\" is calling:\"]}),Object(g.jsx)(m.a,{variant:\"contained\",color:\"primary\",onClick:t,children:\"Answer\"})]})})},R=Object(o.a)((function(e){return{appBar:Object(r.a)({borderRadius:15,margin:\"30px 100px\",display:\"flex\",flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\",width:\"600px\",border:\"2px\"},e.breakpoints.down(\"xs\"),{width:\"90%\"}),image:{marginLeft:\"15px\"},wrapper:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",width:\"100%\"}}})),T=function(){var e=R();return Object(g.jsxs)(\"div\",{className:e.wrapper,children:[Object(g.jsx)(l.a,{className:e.appBar,position:\"static\",color:\"inherit\",children:Object(g.jsx)(s.a,{variant:\"h3\",align:\"center\",color:\"textPrimary\",children:\"Video Chat\"})}),Object(g.jsx)(N,{}),Object(g.jsx)(z,{children:Object(g.jsx)(A,{})})]})};a(153);i.a.render(Object(g.jsx)(C,{children:Object(g.jsx)(T,{})}),document.getElementById(\"root\"))}},[[154,1,2]]]);","name":"static/js/main.5a241269.chunk.js","map":{"version":3,"sources":["static/js/main.5a241269.chunk.js"],"names":["this","push","132","module","exports","134","144","__webpack_require__","153","154","__webpack_exports__","r","react","react_dom","react_dom_default","n","defineProperty","AppBar","Typography","makeStyles","Grid","Paper","Button","Mic","Videocam","slicedToArray","build","simple_peer","simple_peer_default","jsx_runtime","SocketContext","Object","socket","Context_ContextProvider","_ref","children","_useState","_useState2","callAccepted","setCallAccepted","_useState3","_useState4","callEnded","setCallEnded","_useState5","_useState6","stream","setStream","_useState7","_useState8","name","setName","_useState9","_useState10","call","setCall","_useState11","_useState12","me","setMe","myVideo","userVideo","connectionRef","navigator","mediaDevices","getUserMedia","video","audio","then","currentStream","current","srcObject","on","id","_ref2","from","callerName","signal","isReceivingCall","isAudio","isVideo","Provider","value","callUser","peer","a","initiator","trickle","data","emit","userToCall","signalData","leaveCall","destroy","window","close","answerCall","to","toggleMic","getAudioTracks","enabled","toggleVideo","getVideoTracks","useStyles","theme","width","breakpoints","down","gridContainer","justifyContent","buttonGridContainer","flexDirection","margin","marginTop","padding","paper","border","components_VideoPlayer","_useContext","classes","container","className","item","xs","md","variant","gutterBottom","playsInline","muted","ref","autoPlay","color","fullWidth","startIcon","fontSize","onClick","Container","TextField","lib","Assignment","PhoneDisabled","Phone","Sidebar_useStyles","root","display","components_Sidebar","idToCall","setIdToCall","elevation","noValidate","autoComplete","label","onChange","e","target","text","components_Notifications","style","App_useStyles","appBar","borderRadius","alignItems","image","marginLeft","wrapper","src_App","position","align","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 132:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 154:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(9);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/AppBar/AppBar.js\nvar AppBar = __webpack_require__(195);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(188);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(183);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(186);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Paper/Paper.js\nvar Paper = __webpack_require__(155);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js + 6 modules\nvar Button = __webpack_require__(197);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Mic.js\nvar Mic = __webpack_require__(189);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Videocam.js\nvar Videocam = __webpack_require__(190);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(82);\n\n// EXTERNAL MODULE: ./node_modules/simple-peer/index.js\nvar simple_peer = __webpack_require__(55);\nvar simple_peer_default = /*#__PURE__*/__webpack_require__.n(simple_peer);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/Context.js\nvar SocketContext=/*#__PURE__*/Object(react[\"createContext\"])();// const socket = io('http://localhost:5000');\nvar socket=Object(build[\"io\"])('https://microsoft-teams-video-call.herokuapp.com');var Context_ContextProvider=function ContextProvider(_ref){var children=_ref.children;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),callAccepted=_useState2[0],setCallAccepted=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),callEnded=_useState4[0],setCallEnded=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),stream=_useState6[0],setStream=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),name=_useState8[0],setName=_useState8[1];var _useState9=Object(react[\"useState\"])({}),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),call=_useState10[0],setCall=_useState10[1];var _useState11=Object(react[\"useState\"])(''),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),me=_useState12[0],setMe=_useState12[1];var myVideo=Object(react[\"useRef\"])();var userVideo=Object(react[\"useRef\"])();var connectionRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(function(currentStream){setStream(currentStream);myVideo.current.srcObject=currentStream;});socket.on('me',function(id){return setMe(id);});socket.on('callUser',function(_ref2){var from=_ref2.from,callerName=_ref2.name,signal=_ref2.signal;setCall({isReceivingCall:true,from:from,name:callerName,signal:signal});});},[]);var answerCall=function answerCall(){setCallAccepted(true);var peer=new simple_peer_default.a({initiator:false,trickle:false,stream:stream});peer.on('signal',function(data){socket.emit('answerCall',{signal:data,to:call.from});});peer.on('stream',function(currentStream){userVideo.current.srcObject=currentStream;});peer.signal(call.signal);connectionRef.current=peer;};var callUser=function callUser(id){var peer=new simple_peer_default.a({initiator:true,trickle:false,stream:stream});peer.on('signal',function(data){socket.emit('callUser',{userToCall:id,signalData:data,from:me,name:name});});peer.on('stream',function(currentStream){userVideo.current.srcObject=currentStream;});socket.on('callAccepted',function(signal){setCallAccepted(true);peer.signal(signal);});connectionRef.current=peer;};var leaveCall=function leaveCall(){setCallEnded(true);connectionRef.current.destroy();window.close();};var isAudio=true;function toggleMic(){isAudio=!isAudio;myVideo.current.srcObject.getAudioTracks()[0].enabled=isAudio;}var isVideo=true;function toggleVideo(){isVideo=!isVideo;myVideo.current.srcObject.getVideoTracks()[0].enabled=isVideo;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketContext.Provider,{value:{call:call,callAccepted:callAccepted,myVideo:myVideo,userVideo:userVideo,stream:stream,name:name,setName:setName,callEnded:callEnded,me:me,callUser:callUser,leaveCall:leaveCall,answerCall:answerCall,toggleMic:toggleMic,toggleVideo:toggleVideo},children:children});};\n// EXTERNAL MODULE: ./src/video_styles.css\nvar video_styles = __webpack_require__(144);\n\n// CONCATENATED MODULE: ./src/components/VideoPlayer.jsx\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{video:Object(defineProperty[\"a\" /* default */])({width:'400px'},theme.breakpoints.down('xs'),{width:'300px'}),gridContainer:Object(defineProperty[\"a\" /* default */])({justifyContent:'center'},theme.breakpoints.down('xs'),{width:'100%'}),buttonGridContainer:Object(defineProperty[\"a\" /* default */])({width:'400px',flexDirection:'row'},theme.breakpoints.down('xs'),{width:'100%',flexDirection:'column'}),margin:{marginTop:10},padding:{padding:10},paper:{padding:'10px',border:'2px',margin:'10px'}};});var VideoPlayer_VideoPlayer=function VideoPlayer(){var _useContext=Object(react[\"useContext\"])(SocketContext),name=_useContext.name,callAccepted=_useContext.callAccepted,myVideo=_useContext.myVideo,userVideo=_useContext.userVideo,callEnded=_useContext.callEnded,stream=_useContext.stream,call=_useContext.call,toggleMic=_useContext.toggleMic,toggleVideo=_useContext.toggleVideo;var classes=useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.gridContainer,children:[stream&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",gutterBottom:true,children:name||'Name'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{playsInline:true,muted:true,ref:myVideo,autoPlay:true,className:classes.video}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.buttonGridContainer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",fullWidth:true,startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Mic[\"a\" /* default */],{fontSize:\"large\"}),onClick:function onClick(){return toggleMic();},className:classes.margin,children:\"Mic\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",fullWidth:true,startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Videocam[\"a\" /* default */],{fontSize:\"large\"}),onClick:function onClick(){return toggleVideo();},className:classes.margin,children:\"Video\"})})]})]})}),callAccepted&&!callEnded&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",gutterBottom:true,children:call.name||'Name'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{playsInline:true,ref:userVideo,autoPlay:true,className:classes.video}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.buttonGridContainer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Mic[\"a\" /* default */],{fontSize:\"large\"}),fullWidth:true,onClick:function onClick(){return toggleMic();},className:classes.margin,children:\"Mic\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Videocam[\"a\" /* default */],{fontSize:\"large\"}),fullWidth:true,onClick:function onClick(){return toggleVideo();},className:classes.margin,children:\"Video\"})})]})]})})]});};/* harmony default export */ var components_VideoPlayer = (VideoPlayer_VideoPlayer);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Container/Container.js\nvar Container = __webpack_require__(191);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 42 modules\nvar TextField = __webpack_require__(196);\n\n// EXTERNAL MODULE: ./node_modules/react-copy-to-clipboard/lib/index.js\nvar lib = __webpack_require__(88);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Assignment.js\nvar Assignment = __webpack_require__(192);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/PhoneDisabled.js\nvar PhoneDisabled = __webpack_require__(193);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Phone.js\nvar Phone = __webpack_require__(194);\n\n// CONCATENATED MODULE: ./src/components/Sidebar.jsx\nvar Sidebar_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{root:{display:'flex',flexDirection:'column'},gridContainer:Object(defineProperty[\"a\" /* default */])({width:'100%'},theme.breakpoints.down('xs'),{flexDirection:'column'}),container:Object(defineProperty[\"a\" /* default */])({width:'600px',margin:'35px 0',padding:0},theme.breakpoints.down('xs'),{width:'80%'}),margin:{marginTop:20},padding:{padding:20},paper:{padding:'10px 20px',border:'2px'}};});var Sidebar_Sidebar=function Sidebar(_ref){var children=_ref.children;var _useContext=Object(react[\"useContext\"])(SocketContext),me=_useContext.me,callAccepted=_useContext.callAccepted,name=_useContext.name,setName=_useContext.setName,callEnded=_useContext.callEnded,leaveCall=_useContext.leaveCall,callUser=_useContext.callUser;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),idToCall=_useState2[0],setIdToCall=_useState2[1];var classes=Sidebar_useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:classes.container,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Paper[\"a\" /* default */],{elevation:10,className:classes.paper,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{className:classes.root,noValidate:true,autoComplete:\"off\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.gridContainer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"Name\",value:name,onChange:function onChange(e){return setName(e.target.value);},fullWidth:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib[\"CopyToClipboard\"],{text:me,className:classes.margin,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",fullWidth:true,startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Assignment[\"a\" /* default */],{fontSize:\"large\"}),children:\"Copy Your ID\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"ID to call\",value:idToCall,onChange:function onChange(e){return setIdToCall(e.target.value);},fullWidth:true}),callAccepted&&!callEnded?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"secondary\",startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PhoneDisabled[\"a\" /* default */],{fontSize:\"large\"}),fullWidth:true,onClick:leaveCall,className:classes.margin,children:\"Hang Up\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Phone[\"a\" /* default */],{fontSize:\"large\"}),fullWidth:true,onClick:function onClick(){return callUser(idToCall);},className:classes.margin,children:\"Call\"})]})]})}),children]})});};/* harmony default export */ var components_Sidebar = (Sidebar_Sidebar);\n// CONCATENATED MODULE: ./src/components/Notifications.jsx\nvar Notifications_Notifications=function Notifications(){var _useContext=Object(react[\"useContext\"])(SocketContext),answerCall=_useContext.answerCall,call=_useContext.call,callAccepted=_useContext.callAccepted;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:call.isReceivingCall&&!callAccepted&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',justifyContent:'space-around'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[call.name,\" is calling:\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",onClick:answerCall,children:\"Answer\"})]})});};/* harmony default export */ var components_Notifications = (Notifications_Notifications);\n// CONCATENATED MODULE: ./src/App.js\nvar App_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{appBar:Object(defineProperty[\"a\" /* default */])({borderRadius:15,margin:'30px 100px',display:'flex',flexDirection:'row',justifyContent:'center',alignItems:'center',width:'600px',border:'2px'},theme.breakpoints.down('xs'),{width:'90%'}),image:{marginLeft:'15px'},wrapper:{display:'flex',flexDirection:'column',alignItems:'center',width:'100%'}};});var App_App=function App(){var classes=App_useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:classes.wrapper,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AppBar[\"a\" /* default */],{className:classes.appBar,position:\"static\",color:\"inherit\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h3\",align:\"center\",color:\"textPrimary\",children:\"Video Chat\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_VideoPlayer,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Sidebar,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Notifications,{})})]});};/* harmony default export */ var src_App = (App_App);\n// EXTERNAL MODULE: ./src/styles.css\nvar styles = __webpack_require__(153);\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Context_ContextProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[154,1,2]]]);","inputSourceMap":{"version":3,"sources":["ignored /Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/readable-stream/lib util","ignored /Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/readable-stream/lib/internal/streams util","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/postcss-loader/src/index.js??postcss!/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/video_styles.css","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/node_modules/postcss-loader/src/index.js??postcss!/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/styles.css","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/Context.js","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/components/VideoPlayer.jsx","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/components/Sidebar.jsx","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/components/Notifications.jsx","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/App.js","/Users/mac/Desktop/Microsoft Teams Clone (Local)/Microsoft Teams Video Call/client/src/index.js"],"names":["SocketContext","createContext","socket","io","ContextProvider","children","useState","callAccepted","setCallAccepted","callEnded","setCallEnded","stream","setStream","name","setName","call","setCall","me","setMe","myVideo","useRef","userVideo","connectionRef","useEffect","navigator","mediaDevices","getUserMedia","video","audio","then","currentStream","current","srcObject","on","id","from","callerName","signal","isReceivingCall","answerCall","peer","Peer","initiator","trickle","data","emit","to","callUser","userToCall","signalData","leaveCall","destroy","window","close","isAudio","toggleMic","getAudioTracks","enabled","isVideo","toggleVideo","getVideoTracks","useStyles","makeStyles","theme","width","breakpoints","down","gridContainer","justifyContent","buttonGridContainer","flexDirection","margin","marginTop","padding","paper","border","VideoPlayer","useContext","classes","root","display","container","Sidebar","idToCall","setIdToCall","e","target","value","Notifications","appBar","borderRadius","alignItems","image","marginLeft","wrapper","App","ReactDOM","render","document","getElementById"],"mappings":";;;;;AAAA,e;;;;;;;ACAA,e;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACIA,GAAMA,cAAa,cAAGC,8BAAa,EAAnC,CAEA;AACA,GAAMC,OAAM,CAAGC,mBAAE,CAAC,kDAAD,CAAjB,CAEA,GAAMC,wBAAe,CAAG,QAAlBA,gBAAkB,MAAkB,IAAfC,SAAe,MAAfA,QAAe,eACAC,yBAAQ,CAAC,KAAD,CADR,kEACjCC,YADiC,eACnBC,eADmB,8BAENF,yBAAQ,CAAC,KAAD,CAFF,mEAEjCG,SAFiC,eAEtBC,YAFsB,8BAGZJ,yBAAQ,EAHI,mEAGjCK,MAHiC,eAGzBC,SAHyB,8BAIhBN,yBAAQ,CAAC,EAAD,CAJQ,mEAIjCO,IAJiC,eAI3BC,OAJ2B,8BAKhBR,yBAAQ,CAAC,EAAD,CALQ,oEAKjCS,IALiC,gBAK3BC,OAL2B,gCAMpBV,yBAAQ,CAAC,EAAD,CANY,qEAMjCW,EANiC,gBAM7BC,KAN6B,gBAQxC,GAAMC,QAAO,CAAGC,uBAAM,EAAtB,CACA,GAAMC,UAAS,CAAGD,uBAAM,EAAxB,CACA,GAAME,cAAa,CAAGF,uBAAM,EAA5B,CAEAG,0BAAS,CAAC,UAAM,CACdC,SAAS,CAACC,YAAV,CAAuBC,YAAvB,CAAoC,CAAEC,KAAK,CAAE,IAAT,CAAeC,KAAK,CAAE,IAAtB,CAApC,EACGC,IADH,CACQ,SAACC,aAAD,CAAmB,CACvBlB,SAAS,CAACkB,aAAD,CAAT,CACAX,OAAO,CAACY,OAAR,CAAgBC,SAAhB,CAA4BF,aAA5B,CACD,CAJH,EAMA5B,MAAM,CAAC+B,EAAP,CAAU,IAAV,CAAgB,SAACC,EAAD,QAAQhB,MAAK,CAACgB,EAAD,CAAb,EAAhB,EAEAhC,MAAM,CAAC+B,EAAP,CAAU,UAAV,CAAsB,eAAwC,IAArCE,KAAqC,OAArCA,IAAqC,CAAzBC,UAAyB,OAA/BvB,IAA+B,CAAbwB,MAAa,OAAbA,MAAa,CAC5DrB,OAAO,CAAC,CAAEsB,eAAe,CAAE,IAAnB,CAAyBH,IAAI,CAAJA,IAAzB,CAA+BtB,IAAI,CAAEuB,UAArC,CAAiDC,MAAM,CAANA,MAAjD,CAAD,CAAP,CACD,CAFD,EAGD,CAZQ,CAYN,EAZM,CAAT,CAcA,GAAME,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvB/B,eAAe,CAAC,IAAD,CAAf,CAEA,GAAMgC,KAAI,CAAG,GAAIC,sBAAJ,CAAS,CAAEC,SAAS,CAAE,KAAb,CAAoBC,OAAO,CAAE,KAA7B,CAAoChC,MAAM,CAANA,MAApC,CAAT,CAAb,CAEA6B,IAAI,CAACP,EAAL,CAAQ,QAAR,CAAkB,SAACW,IAAD,CAAU,CAC1B1C,MAAM,CAAC2C,IAAP,CAAY,YAAZ,CAA0B,CAAER,MAAM,CAAEO,IAAV,CAAgBE,EAAE,CAAE/B,IAAI,CAACoB,IAAzB,CAA1B,EACD,CAFD,EAIAK,IAAI,CAACP,EAAL,CAAQ,QAAR,CAAkB,SAACH,aAAD,CAAmB,CACnCT,SAAS,CAACU,OAAV,CAAkBC,SAAlB,CAA8BF,aAA9B,CACD,CAFD,EAIAU,IAAI,CAACH,MAAL,CAAYtB,IAAI,CAACsB,MAAjB,EAEAf,aAAa,CAACS,OAAd,CAAwBS,IAAxB,CACD,CAhBD,CAkBA,GAAMO,SAAQ,CAAG,QAAXA,SAAW,CAACb,EAAD,CAAQ,CACvB,GAAMM,KAAI,CAAG,GAAIC,sBAAJ,CAAS,CAAEC,SAAS,CAAE,IAAb,CAAmBC,OAAO,CAAE,KAA5B,CAAmChC,MAAM,CAANA,MAAnC,CAAT,CAAb,CAEA6B,IAAI,CAACP,EAAL,CAAQ,QAAR,CAAkB,SAACW,IAAD,CAAU,CAC1B1C,MAAM,CAAC2C,IAAP,CAAY,UAAZ,CAAwB,CAAEG,UAAU,CAAEd,EAAd,CAAkBe,UAAU,CAAEL,IAA9B,CAAoCT,IAAI,CAAElB,EAA1C,CAA8CJ,IAAI,CAAJA,IAA9C,CAAxB,EACD,CAFD,EAIA2B,IAAI,CAACP,EAAL,CAAQ,QAAR,CAAkB,SAACH,aAAD,CAAmB,CACnCT,SAAS,CAACU,OAAV,CAAkBC,SAAlB,CAA8BF,aAA9B,CACD,CAFD,EAIA5B,MAAM,CAAC+B,EAAP,CAAU,cAAV,CAA0B,SAACI,MAAD,CAAY,CACpC7B,eAAe,CAAC,IAAD,CAAf,CAEAgC,IAAI,CAACH,MAAL,CAAYA,MAAZ,EACD,CAJD,EAMAf,aAAa,CAACS,OAAd,CAAwBS,IAAxB,CACD,CAlBD,CAoBA,GAAMU,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtBxC,YAAY,CAAC,IAAD,CAAZ,CAEAY,aAAa,CAACS,OAAd,CAAsBoB,OAAtB,GAEAC,MAAM,CAACC,KAAP,GACD,CAND,CAQA,GAAIC,QAAO,CAAG,IAAd,CACA,QAASC,UAAT,EAAqB,CACjBD,OAAO,CAAG,CAACA,OAAX,CACAnC,OAAO,CAACY,OAAR,CAAgBC,SAAhB,CAA0BwB,cAA1B,GAA2C,CAA3C,EAA8CC,OAA9C,CAAwDH,OAAxD,CACH,CAED,GAAII,QAAO,CAAG,IAAd,CACA,QAASC,YAAT,EAAuB,CACnBD,OAAO,CAAG,CAACA,OAAX,CACAvC,OAAO,CAACY,OAAR,CAAgBC,SAAhB,CAA0B4B,cAA1B,GAA2C,CAA3C,EAA8CH,OAA9C,CAAwDC,OAAxD,CACH,CACD,mBACE,2BAAC,aAAD,CAAe,QAAf,EAAwB,KAAK,CAAE,CAC7B3C,IAAI,CAAJA,IAD6B,CAE7BR,YAAY,CAAZA,YAF6B,CAG7BY,OAAO,CAAPA,OAH6B,CAI7BE,SAAS,CAATA,SAJ6B,CAK7BV,MAAM,CAANA,MAL6B,CAM7BE,IAAI,CAAJA,IAN6B,CAO7BC,OAAO,CAAPA,OAP6B,CAQ7BL,SAAS,CAATA,SAR6B,CAS7BQ,EAAE,CAAFA,EAT6B,CAU7B8B,QAAQ,CAARA,QAV6B,CAW7BG,SAAS,CAATA,SAX6B,CAY7BX,UAAU,CAAVA,UAZ6B,CAa7BgB,SAAS,CAATA,SAb6B,CAc7BI,WAAW,CAAXA,WAd6B,CAA/B,UAiBGtD,QAjBH,EADF,CAqBD,CAxGD,C;;;;;ACFA,GAAMwD,UAAS,CAAGC,qCAAU,CAAC,SAACC,KAAD,QAAY,CACvCpC,KAAK,CAAC,2CACJqC,KAAK,CAAE,OADJ,EAEFD,KAAK,CAACE,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAFE,CAE6B,CAC9BF,KAAK,CAAE,OADuB,CAF7B,CADkC,CAOvCG,aAAa,CAAC,2CACZC,cAAc,CAAE,QADL,EAEVL,KAAK,CAACE,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAFU,CAEqB,CAC9BF,KAAK,CAAE,MADuB,CAFrB,CAP0B,CAavCK,mBAAmB,CAAC,2CAClBL,KAAK,CAAE,OADU,CAEjBM,aAAa,CAAE,KAFE,EAGhBP,KAAK,CAACE,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAHgB,CAGe,CAC9BF,KAAK,CAAE,MADuB,CAE9BM,aAAa,CAAE,QAFe,CAHf,CAboB,CAqBvCC,MAAM,CAAE,CACNC,SAAS,CAAE,EADL,CArB+B,CAwBvCC,OAAO,CAAE,CACPA,OAAO,CAAE,EADF,CAxB8B,CA2BvCC,KAAK,CAAE,CACLD,OAAO,CAAE,MADJ,CAELE,MAAM,CAAE,KAFH,CAGLJ,MAAM,CAAE,MAHH,CA3BgC,CAAZ,EAAD,CAA5B,CAkCA,GAAMK,wBAAW,CAAG,QAAdA,YAAc,EAAM,iBAC4EC,2BAAU,CAAC7E,aAAD,CADtF,CAChBa,IADgB,aAChBA,IADgB,CACVN,YADU,aACVA,YADU,CACIY,OADJ,aACIA,OADJ,CACaE,SADb,aACaA,SADb,CACwBZ,SADxB,aACwBA,SADxB,CACmCE,MADnC,aACmCA,MADnC,CAC2CI,IAD3C,aAC2CA,IAD3C,CACiDwC,SADjD,aACiDA,SADjD,CAC4DI,WAD5D,aAC4DA,WAD5D,CAExB,GAAMmB,QAAO,CAAGjB,SAAS,EAAzB,CAEA,mBACE,4BAAC,uBAAD,EAAM,SAAS,KAAf,CAAgB,SAAS,CAAEiB,OAAO,CAACX,aAAnC,WACGxD,MAAM,eACL,2BAAC,wBAAD,EAAO,SAAS,CAAEmE,OAAO,CAACJ,KAA1B,uBACE,4BAAC,uBAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,wBACE,2BAAC,6BAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,YAAY,KAArC,UAAuC7D,IAAI,EAAI,MAA/C,EADF,cAEE,oCAAO,WAAW,KAAlB,CAAmB,KAAK,KAAxB,CAAyB,GAAG,CAAEM,OAA9B,CAAuC,QAAQ,KAA/C,CAAgD,SAAS,CAAE2D,OAAO,CAACnD,KAAnE,EAFF,cAGE,4BAAC,uBAAD,EAAM,SAAS,KAAf,CAAgB,SAAS,CAAEmD,OAAO,CAACT,mBAAnC,wBACE,2BAAC,uBAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,CAA0B,SAAS,CAAES,OAAO,CAACL,OAA7C,uBACE,2BAAC,yBAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,SAAS,KAArD,CAAsD,SAAS,cAAE,2BAAC,sBAAD,EAAK,QAAQ,CAAC,OAAd,EAAjE,CAA2F,OAAO,CAAE,yBAAMlB,UAAS,EAAf,EAApG,CAAuH,SAAS,CAAEuB,OAAO,CAACP,MAA1I,iBADF,EADF,cAME,2BAAC,uBAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,CAA0B,SAAS,CAAEO,OAAO,CAACL,OAA7C,uBACE,2BAAC,yBAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,SAAS,KAArD,CAAsD,SAAS,cAAE,2BAAC,2BAAD,EAAU,QAAQ,CAAC,OAAnB,EAAjE,CAAgG,OAAO,CAAE,yBAAMd,YAAW,EAAjB,EAAzG,CAA8H,SAAS,CAAEmB,OAAO,CAACP,MAAjJ,mBADF,EANF,GAHF,GADF,EAFJ,CAqBGhE,YAAY,EAAI,CAACE,SAAjB,eACC,2BAAC,wBAAD,EAAO,SAAS,CAAEqE,OAAO,CAACJ,KAA1B,uBACE,4BAAC,uBAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,wBACE,2BAAC,6BAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,YAAY,KAArC,UAAuC3D,IAAI,CAACF,IAAL,EAAa,MAApD,EADF,cAEE,oCAAO,WAAW,KAAlB,CAAmB,GAAG,CAAEQ,SAAxB,CAAmC,QAAQ,KAA3C,CAA4C,SAAS,CAAEyD,OAAO,CAACnD,KAA/D,EAFF,cAGE,4BAAC,uBAAD,EAAM,SAAS,KAAf,CAAgB,SAAS,CAAEmD,OAAO,CAACT,mBAAnC,wBACE,2BAAC,uBAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,CAA0B,SAAS,CAAES,OAAO,CAACL,OAA7C,uBACE,2BAAC,yBAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,SAAS,cAAE,2BAAC,sBAAD,EAAK,QAAQ,CAAC,OAAd,EAAvD,CAAiF,SAAS,KAA1F,CAA2F,OAAO,CAAE,yBAAMlB,UAAS,EAAf,EAApG,CAAuH,SAAS,CAAEuB,OAAO,CAACP,MAA1I,iBADF,EADF,cAME,2BAAC,uBAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,CAA0B,SAAS,CAAEO,OAAO,CAACL,OAA7C,uBACE,2BAAC,yBAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,SAAS,cAAE,2BAAC,2BAAD,EAAU,QAAQ,CAAC,OAAnB,EAAvD,CAAsF,SAAS,KAA/F,CAAgG,OAAO,CAAE,yBAAMd,YAAW,EAAjB,EAAzG,CAA8H,SAAS,CAAEmB,OAAO,CAACP,MAAjJ,mBADF,EANF,GAHF,GADF,EAtBJ,GADF,CA4CD,CAhDD,CAkDeK,kFAAf,E;;;;;;;;;;;;;;;;;;;;ACnFA,GAAMf,kBAAS,CAAGC,qCAAU,CAAC,SAACC,KAAD,QAAY,CACvCgB,IAAI,CAAE,CACJC,OAAO,CAAE,MADL,CAEJV,aAAa,CAAE,QAFX,CADiC,CAKvCH,aAAa,CAAC,2CACZH,KAAK,CAAE,MADI,EAEVD,KAAK,CAACE,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAFU,CAEqB,CAC9BI,aAAa,CAAE,QADe,CAFrB,CAL0B,CAWvCW,SAAS,CAAC,2CACRjB,KAAK,CAAE,OADA,CAEPO,MAAM,CAAE,QAFD,CAGPE,OAAO,CAAE,CAHF,EAINV,KAAK,CAACE,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAJM,CAIyB,CAC9BF,KAAK,CAAE,KADuB,CAJzB,CAX8B,CAmBvCO,MAAM,CAAE,CACNC,SAAS,CAAE,EADL,CAnB+B,CAsBvCC,OAAO,CAAE,CACPA,OAAO,CAAE,EADF,CAtB8B,CAyBvCC,KAAK,CAAE,CACLD,OAAO,CAAE,WADJ,CAELE,MAAM,CAAE,KAFH,CAzBgC,CAAZ,EAAD,CAA5B,CA+BA,GAAMO,gBAAO,CAAG,QAAVA,QAAU,MAAkB,IAAf7E,SAAe,MAAfA,QAAe,iBAC4CwE,2BAAU,CAAC7E,aAAD,CADtD,CACxBiB,EADwB,aACxBA,EADwB,CACpBV,YADoB,aACpBA,YADoB,CACNM,IADM,aACNA,IADM,CACAC,OADA,aACAA,OADA,CACSL,SADT,aACSA,SADT,CACoByC,SADpB,aACoBA,SADpB,CAC+BH,QAD/B,aAC+BA,QAD/B,eAEAzC,yBAAQ,CAAC,EAAD,CAFR,kEAEzB6E,QAFyB,eAEfC,WAFe,eAGhC,GAAMN,QAAO,CAAGjB,iBAAS,EAAzB,CAEA,mBACE,2BAAC,4BAAD,EAAW,SAAS,CAAEiB,OAAO,CAACG,SAA9B,uBACE,4BAAC,wBAAD,EAAO,SAAS,CAAE,EAAlB,CAAsB,SAAS,CAAEH,OAAO,CAACJ,KAAzC,wBACE,mCAAM,SAAS,CAAEI,OAAO,CAACC,IAAzB,CAA+B,UAAU,KAAzC,CAA0C,YAAY,CAAC,KAAvD,uBACE,4BAAC,uBAAD,EAAM,SAAS,KAAf,CAAgB,SAAS,CAAED,OAAO,CAACX,aAAnC,wBACE,4BAAC,uBAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,CAA0B,SAAS,CAAEW,OAAO,CAACL,OAA7C,wBACE,2BAAC,4BAAD,EAAW,KAAK,CAAC,MAAjB,CAAwB,KAAK,CAAE5D,IAA/B,CAAqC,QAAQ,CAAE,kBAACwE,CAAD,QAAOvE,QAAO,CAACuE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAA/C,CAA+E,SAAS,KAAxF,EADF,cAEE,2BAAC,sBAAD,EAAiB,IAAI,CAAEtE,EAAvB,CAA2B,SAAS,CAAE6D,OAAO,CAACP,MAA9C,uBACE,2BAAC,yBAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,SAAS,KAArD,CAAsD,SAAS,cAAE,2BAAC,6BAAD,EAAY,QAAQ,CAAC,OAArB,EAAjE,0BADF,EAFF,GADF,cASE,4BAAC,uBAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,CAA0B,SAAS,CAAEO,OAAO,CAACL,OAA7C,wBACE,2BAAC,4BAAD,EAAW,KAAK,CAAC,YAAjB,CAA8B,KAAK,CAAEU,QAArC,CAA+C,QAAQ,CAAE,kBAACE,CAAD,QAAOD,YAAW,CAACC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAAzD,CAA6F,SAAS,KAAtG,EADF,CAEGhF,YAAY,EAAI,CAACE,SAAjB,cACC,2BAAC,yBAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,WAAlC,CAA8C,SAAS,cAAE,2BAAC,gCAAD,EAAe,QAAQ,CAAC,OAAxB,EAAzD,CAA6F,SAAS,KAAtG,CAAuG,OAAO,CAAEyC,SAAhH,CAA2H,SAAS,CAAE4B,OAAO,CAACP,MAA9I,qBADD,cAKC,2BAAC,yBAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,SAAS,cAAE,2BAAC,wBAAD,EAAO,QAAQ,CAAC,OAAhB,EAAvD,CAAmF,SAAS,KAA5F,CAA6F,OAAO,CAAE,yBAAMxB,SAAQ,CAACoC,QAAD,CAAd,EAAtG,CAAgI,SAAS,CAAEL,OAAO,CAACP,MAAnJ,kBAPJ,GATF,GADF,EADF,CAyBGlE,QAzBH,GADF,EADF,CA+BD,CApCD,CAsCe6E,sEAAf,E;;ACxEA,GAAMM,4BAAa,CAAG,QAAhBA,cAAgB,EAAM,iBACiBX,2BAAU,CAAC7E,aAAD,CAD3B,CAClBuC,UADkB,aAClBA,UADkB,CACNxB,IADM,aACNA,IADM,CACAR,YADA,aACAA,YADA,CAG1B,mBACE,6DACGQ,IAAI,CAACuB,eAAL,EAAwB,CAAC/B,YAAzB,eACC,mCAAK,KAAK,CAAE,CAAEyE,OAAO,CAAE,MAAX,CAAmBZ,cAAc,CAAE,cAAnC,CAAZ,wBACE,4CAAKrD,IAAI,CAACF,IAAV,kBADF,cAEE,2BAAC,yBAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,OAAO,CAAE0B,UAArD,oBAFF,GAFJ,EADF,CAYD,CAfD,CAiBeiD,wFAAf,E;;ACdA,GAAM3B,cAAS,CAAGC,qCAAU,CAAC,SAACC,KAAD,QAAY,CACvC0B,MAAM,CAAC,2CACLC,YAAY,CAAE,EADV,CAEJnB,MAAM,CAAE,YAFJ,CAGJS,OAAO,CAAE,MAHL,CAIJV,aAAa,CAAE,KAJX,CAKJF,cAAc,CAAE,QALZ,CAMJuB,UAAU,CAAE,QANR,CAOJ3B,KAAK,CAAE,OAPH,CAQJW,MAAM,CAAE,KARJ,EAUHZ,KAAK,CAACE,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAVG,CAU4B,CAC9BF,KAAK,CAAE,KADuB,CAV5B,CADiC,CAevC4B,KAAK,CAAE,CACLC,UAAU,CAAE,MADP,CAfgC,CAkBvCC,OAAO,CAAE,CACPd,OAAO,CAAE,MADF,CAEPV,aAAa,CAAE,QAFR,CAGPqB,UAAU,CAAE,QAHL,CAIP3B,KAAK,CAAE,MAJA,CAlB8B,CAAZ,EAAD,CAA5B,CA0BA,GAAM+B,QAAG,CAAG,QAANA,IAAM,EAAM,CAChB,GAAMjB,QAAO,CAAGjB,aAAS,EAAzB,CAEA,mBACE,mCAAK,SAAS,CAAEiB,OAAO,CAACgB,OAAxB,wBACE,2BAAC,yBAAD,EAAQ,SAAS,CAAEhB,OAAO,CAACW,MAA3B,CAAmC,QAAQ,CAAC,QAA5C,CAAqD,KAAK,CAAC,SAA3D,uBACE,2BAAC,6BAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,KAAK,CAAC,QAA/B,CAAwC,KAAK,CAAC,aAA9C,wBADF,EADF,cAIE,2BAAC,sBAAD,IAJF,cAKE,2BAAC,kBAAD,wBACE,2BAAC,wBAAD,IADF,EALF,GADF,CAWD,CAdD,CAgBeM,mDAAf,E;;;;;AC1CAC,mBAAQ,CAACC,MAAT,cACE,2BAAC,uBAAD,wBACE,2BAAC,OAAD,IADF,EADF,CAIEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,E","file":"x","sourcesContent":["/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { createContext, useState, useRef, useEffect } from 'react';\nimport { io } from 'socket.io-client';\nimport Peer from 'simple-peer';\n\nconst SocketContext = createContext();\n\n// const socket = io('http://localhost:5000');\nconst socket = io('https://microsoft-teams-video-call.herokuapp.com');\n\nconst ContextProvider = ({ children }) => {\n  const [callAccepted, setCallAccepted] = useState(false);\n  const [callEnded, setCallEnded] = useState(false);\n  const [stream, setStream] = useState();\n  const [name, setName] = useState('');\n  const [call, setCall] = useState({});\n  const [me, setMe] = useState('');\n\n  const myVideo = useRef();\n  const userVideo = useRef();\n  const connectionRef = useRef();\n\n  useEffect(() => {\n    navigator.mediaDevices.getUserMedia({ video: true, audio: true })\n      .then((currentStream) => {\n        setStream(currentStream);\n        myVideo.current.srcObject = currentStream;\n      });\n\n    socket.on('me', (id) => setMe(id));\n\n    socket.on('callUser', ({ from, name: callerName, signal }) => {\n      setCall({ isReceivingCall: true, from, name: callerName, signal });\n    });\n  }, []);\n\n  const answerCall = () => {\n    setCallAccepted(true);\n\n    const peer = new Peer({ initiator: false, trickle: false, stream });\n\n    peer.on('signal', (data) => {\n      socket.emit('answerCall', { signal: data, to: call.from });\n    });\n\n    peer.on('stream', (currentStream) => {\n      userVideo.current.srcObject = currentStream;\n    });\n\n    peer.signal(call.signal);\n\n    connectionRef.current = peer;\n  };\n\n  const callUser = (id) => {\n    const peer = new Peer({ initiator: true, trickle: false, stream });\n\n    peer.on('signal', (data) => {\n      socket.emit('callUser', { userToCall: id, signalData: data, from: me, name });\n    });\n\n    peer.on('stream', (currentStream) => {\n      userVideo.current.srcObject = currentStream;\n    });\n\n    socket.on('callAccepted', (signal) => {\n      setCallAccepted(true);\n\n      peer.signal(signal);\n    });\n\n    connectionRef.current = peer;\n  };\n\n  const leaveCall = () => {\n    setCallEnded(true);\n\n    connectionRef.current.destroy();\n\n    window.close();\n  };\n\n  let isAudio = true\n  function toggleMic() {\n      isAudio = !isAudio\n      myVideo.current.srcObject.getAudioTracks()[0].enabled = isAudio\n  }\n\n  let isVideo = true\n  function toggleVideo() {\n      isVideo = !isVideo\n      myVideo.current.srcObject.getVideoTracks()[0].enabled = isVideo\n  }\n  return (\n    <SocketContext.Provider value={{\n      call,\n      callAccepted,\n      myVideo,\n      userVideo,\n      stream,\n      name,\n      setName,\n      callEnded,\n      me,\n      callUser,\n      leaveCall,\n      answerCall,\n      toggleMic,\n      toggleVideo,\n    }}\n    >\n      {children}\n    </SocketContext.Provider>\n  );\n};\n\nexport { ContextProvider, SocketContext };\n","import React, { useContext } from 'react';\nimport { Grid, Typography, Paper, makeStyles, Button } from '@material-ui/core';\nimport { Mic, Videocam } from '@material-ui/icons';\n\nimport { SocketContext } from '../Context';\nimport '../video_styles.css';\n\nconst useStyles = makeStyles((theme) => ({\n  video: {\n    width: '400px',\n    [theme.breakpoints.down('xs')]: {\n      width: '300px',\n    },\n  },\n  gridContainer: {\n    justifyContent: 'center',\n    [theme.breakpoints.down('xs')]: {\n      width: '100%',\n    },\n  },\n  buttonGridContainer: {\n    width: '400px',\n    flexDirection: 'row',\n    [theme.breakpoints.down('xs')]: {\n      width: '100%',\n      flexDirection: 'column',\n    },\n  },\n  margin: {\n    marginTop: 10,\n  },\n  padding: {\n    padding: 10,\n  },\n  paper: {\n    padding: '10px',\n    border: '2px',\n    margin: '10px',\n  },\n}));\n\nconst VideoPlayer = () => {\n  const { name, callAccepted, myVideo, userVideo, callEnded, stream, call, toggleMic, toggleVideo } = useContext(SocketContext);\n  const classes = useStyles();\n\n  return (\n    <Grid container className={classes.gridContainer}>\n      {stream && (\n        <Paper className={classes.paper}>\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"h5\" gutterBottom>{name || 'Name'}</Typography>\n            <video playsInline muted ref={myVideo} autoPlay className={classes.video} />\n            <Grid container className={classes.buttonGridContainer}>\n              <Grid item xs={12} md={6} className={classes.padding}>\n                <Button variant=\"contained\" color=\"primary\" fullWidth startIcon={<Mic fontSize=\"large\" />} onClick={() => toggleMic()} className={classes.margin}>\n                    Mic\n                </Button>\n              </Grid>\n              <Grid item xs={12} md={6} className={classes.padding}>\n                <Button variant=\"contained\" color=\"primary\" fullWidth startIcon={<Videocam fontSize=\"large\" />} onClick={() => toggleVideo()} className={classes.margin}>\n                    Video\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n      )}\n      {callAccepted && !callEnded && (\n        <Paper className={classes.paper}>\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"h5\" gutterBottom>{call.name || 'Name'}</Typography>\n            <video playsInline ref={userVideo} autoPlay className={classes.video} />\n            <Grid container className={classes.buttonGridContainer}>\n              <Grid item xs={12} md={6} className={classes.padding}>\n                <Button variant=\"contained\" color=\"primary\" startIcon={<Mic fontSize=\"large\" />} fullWidth onClick={() => toggleMic()} className={classes.margin}>\n                    Mic\n                </Button>\n              </Grid>\n              <Grid item xs={12} md={6} className={classes.padding}>\n                <Button variant=\"contained\" color=\"primary\" startIcon={<Videocam fontSize=\"large\" />} fullWidth onClick={() => toggleVideo()} className={classes.margin}>\n                    Video\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n      )}\n    </Grid>\n  );\n};\n\nexport default VideoPlayer;\n","import React, { useState, useContext } from 'react';\nimport { Button, TextField, Grid, Container, Paper } from '@material-ui/core';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { Assignment, Phone, PhoneDisabled } from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SocketContext } from '../Context';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  gridContainer: {\n    width: '100%',\n    [theme.breakpoints.down('xs')]: {\n      flexDirection: 'column',\n    },\n  },\n  container: {\n    width: '600px',\n    margin: '35px 0',\n    padding: 0,\n    [theme.breakpoints.down('xs')]: {\n      width: '80%',\n    },\n  },\n  margin: {\n    marginTop: 20,\n  },\n  padding: {\n    padding: 20,\n  },\n  paper: {\n    padding: '10px 20px',\n    border: '2px',\n  },\n}));\n\nconst Sidebar = ({ children }) => {\n  const { me, callAccepted, name, setName, callEnded, leaveCall, callUser } = useContext(SocketContext);\n  const [idToCall, setIdToCall] = useState('');\n  const classes = useStyles();\n\n  return (\n    <Container className={classes.container}>\n      <Paper elevation={10} className={classes.paper}>\n        <form className={classes.root} noValidate autoComplete=\"off\">\n          <Grid container className={classes.gridContainer}>\n            <Grid item xs={12} md={6} className={classes.padding}>\n              <TextField label=\"Name\" value={name} onChange={(e) => setName(e.target.value)} fullWidth />\n              <CopyToClipboard text={me} className={classes.margin}>\n                <Button variant=\"contained\" color=\"primary\" fullWidth startIcon={<Assignment fontSize=\"large\" />}>\n                  Copy Your ID\n                </Button>\n              </CopyToClipboard>\n            </Grid>\n            <Grid item xs={12} md={6} className={classes.padding}>\n              <TextField label=\"ID to call\" value={idToCall} onChange={(e) => setIdToCall(e.target.value)} fullWidth />\n              {callAccepted && !callEnded ? (\n                <Button variant=\"contained\" color=\"secondary\" startIcon={<PhoneDisabled fontSize=\"large\" />} fullWidth onClick={leaveCall} className={classes.margin}>\n                  Hang Up\n                </Button>\n              ) : (\n                <Button variant=\"contained\" color=\"primary\" startIcon={<Phone fontSize=\"large\" />} fullWidth onClick={() => callUser(idToCall)} className={classes.margin}>\n                  Call\n                </Button>\n              )}\n            </Grid>\n          </Grid>\n        </form>\n        {children}\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Sidebar;\n","import React, { useContext } from 'react';\nimport { Button } from '@material-ui/core';\n\nimport { SocketContext } from '../Context';\n\nconst Notifications = () => {\n  const { answerCall, call, callAccepted } = useContext(SocketContext);\n\n  return (\n    <>\n      {call.isReceivingCall && !callAccepted && (\n        <div style={{ display: 'flex', justifyContent: 'space-around' }}>\n          <h1>{call.name} is calling:</h1>\n          <Button variant=\"contained\" color=\"primary\" onClick={answerCall}>\n            Answer\n          </Button>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Notifications;\n","import React from 'react';\nimport { Typography, AppBar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport VideoPlayer from './components/VideoPlayer';\nimport Sidebar from './components/Sidebar';\nimport Notifications from './components/Notifications';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    borderRadius: 15,\n    margin: '30px 100px',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '600px',\n    border: '2px',\n\n    [theme.breakpoints.down('xs')]: {\n      width: '90%',\n    },\n  },\n  image: {\n    marginLeft: '15px',\n  },\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    width: '100%',\n  },\n}));\n\nconst App = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.wrapper}>\n      <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\n        <Typography variant=\"h3\" align=\"center\" color=\"textPrimary\">Video Chat</Typography>\n      </AppBar>\n      <VideoPlayer />\n      <Sidebar>\n        <Notifications />\n      </Sidebar>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport { ContextProvider } from './Context';\n\nimport './styles.css';\n\nReactDOM.render(\n  <ContextProvider>\n    <App />\n  </ContextProvider>,\n  document.getElementById('root'),\n);\n"]}}